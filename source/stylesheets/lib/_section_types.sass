blockquote
  +quoted
  margin: 0

p.quote
  span.quoted
    +quoted
    display: block
  span.speaker
    display: block

span.bigtext
  +bigtext

date
  float: left
  color: $mid
  padding: 0 1em 1em 0
  margin: 0.6em 1em 0 0
  border-right: 1px solid #999

figure.video
  position: relative
  margin: 1em 0
  width: 100%
  video
    width: 100%
  .embed
    position: relative
    padding: 0 0 56.25% 0
    iframe
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%
  &.left
    width: 68%
    float: left
    margin: 5px 32px 12px -12%
  &.right
    width: 68%
    float: right
    margin: 5px -40% 12px 32px
    figcaption
      position: relative
      width: 50%
      left: 50%
      height: 0
      overflow: visible

figure.image
  position: relative
  margin: 1em 0
  width: 100%
  transition: left 0.5s ease-out
  figcaption
    margin: 0.5em 0
    font-size: 1rem
  img
    width: 100%
    height: auto
  &.left
    width: 68%
    float: left
    margin: 5px 32px 12px -12%
  &.right
    width: 68%
    float: right
    margin: 5px -40% 12px 32px
    figcaption
      position: relative
      width: 50%
      left: 50%
      height: 0
      overflow: visible

a.cms-section-type
  display: block
  white-space: nowrap
  height: 36px
  text-indent: 34px
  line-height: 36px
  cursor: pointer
  background:
    position: 0 0
    repeat: no-repeat
    image: image-url('sectionsprite.png')
  &.default
    background-position: 0 0
    &.selected, &:hover
      background-position: -400px 0
  &.asidequote
    background-position: 0 -64px
    &.selected, &:hover
      background-position: -400px -64px
  &.twocol
    background-position: 0 -128px
    &.selected, &:hover
      background-position: -400px -128px
  &.onecol
    background-position: 0 -192px
    &.selected, &:hover
      background-position: -400px -192px
  &.hero
    background-position: 0 -256px
    &.selected, &:hover
      background-position: -400px -256px
  &.bigquote
    background-position: 0 -320px
    &.selected, &:hover
      background-position: -400px -320px
  &.carousel
    background-position: 0 -384px
    &.selected, &:hover
      background-position: -400px -384px
  &.video
    background-position: 0 -448px
    &.selected, &:hover
      background-position: -400px -448px
  &.links
    background-position: 0 -512px
    &.selected, &:hover
      background-position: -400px -512px
  &.asideimage
    background-position: 0 -576px
    &.selected, &:hover
      background-position: -400px -576px
  &.bigpicture
    background-position: 0 -640px
    &.selected, &:hover
      background-position: -400px -640px
  &.contents
    background-position: 0 -712px
    &.selected, &:hover
      background-position: -400px -712px

a.button.section-type
  text-indent: 50px
  width: 48px
  overflow: hidden
  background:
    color: $yellowish
    position: 0 0
    repeat: no-repeat
    image: image-url('sectionsprite.png')
  &:hover
    background-color: $yellow
  &.default
    background-position: 8px 6px
  &.asidequote
    background-position: 8px -58px
  &.twocol
    background-position: 8px -122px
  &.onecol
    background-position: 8px -186px
  &.hero
    background-position: 8px -250px
  &.bigquote
    background-position: 8px -314px
  &.carousel
    background-position: 8px -378px
  &.video
    background-position: 8px -442px
  &.links
    background-position: 8px -506px
  &.asideimage
    background-position: 8px -570px
  &.bigpicture
    background-position: 8px -634px
  &.contents
    background-position: 8px -706px

main
  section
    +clearfix
    .built
      z-index: 10

    .content
      +central
      z-index: 20

    &.default
      .section_body
        min-height: 100px
        max-width: 800px

    &.twocol
      .col
        display: inline-block
        vertical-align: top
        float: left
        min-height: 100px
        width: 48%
        margin-right: 4%
        &.second
          margin-right: 0
        &:empty
          height: 400px

    &.asidequote
      aside
        float: right
        width: 22%
        min-height: 50px
        margin: 0 0 16px 4%
        color: $pale
        p:first-child
          margin-top: 0
        img:first-child
          margin-top: 0.4em
      .section_body
        min-height: 100px
        max-width: 830px
        border-top: 1px solid transparent
        *:first-child
          margin-top: 0
        &:empty
          height: 400px

    &.asideimage
      aside
        float: right
        width: 48%
        min-height: 50px
        margin: 0 0 16px 4%
        figure.image
          margin: 0
        img, video, iframe
          width: 100%
          height: auto
          min-height: 300px
        .caption
          color: $pale
          margin-top: 1em
      .section_body
        min-height: 200px
        border-top: 1px solid transparent
        *:first-child
          margin-top: 0
        &:empty
          height: 400px
      &.left
        aside
          float: left
          margin: 0 4% 16px 0
      &.full
        aside
          float: none
          margin: 1em 0
          width: 100%

    &.onecol
      .content
        .section_body
          width: 75%
          margin: 1.25em auto
          +bigtext

    &.bigquote
      p
        width: 75%
        +bigtext
        margin: 1em auto 0.5em auto

    &.bigpicture
      position: relative
      top: 0
      width: 100vw
      margin: 0
      max-height: 80vh
      min-height: 50vh
      .picture
        position: relative
        overflow: hidden
        max-height: 80vh
        img, video, iframe
          width: 100%
          height: auto
          min-height: 50vh
          position: relative
          margin: 0 auto
          background-color: $coolgrey11
        img[src=""]
          height: 90vh
      .content
        position: absolute
        bottom: 1.25em
        left: 0
        right: 0
        .caption
          max-width: 300px
          font-size: 1rem
          color: white
          text-shadow: 0 0 10px rgba(0,0,0,0.6)
          min-width: 100px

    &.links
      padding-bottom: 2em
      .built
        +central
        div.block
          position: relative
          width: 22%
          min-height: 220px
          margin-right: 3.6%
          display: inline-block
          vertical-align: top
          &:last-child
            margin: 0
          a.block, span.block
            position: relative
            display: block
            width: 100%
            height: 220px
            background:
              position: center center
              repeat: no-repeat
              size: cover
            span.caption
              position: absolute
              bottom: 8%
              left: -10px
              right: 20%
              height: 1.25em
              padding: 10px
              background-color: rgba(255,215,0, 0.75)
              color: black
              font-size: 1.2rem
              line-height: 1.1
              &:before
                content: ""
                position: absolute
                top: -5px
                left: 0
                width: 10px
                height: 5px
                opacity: 0.75
                background:
                  position: 0 0
                  repeat: no-repeat
                  image: image-url('corner.png')
            &:hover
              span.caption
                background-color: rgba(255,215,0, 0.96)
                box-shadow: 0 0 32px $yellow
                &:before
                  opacity: 1

    &.hero
      position: relative
      top: 0
      width: 100vw
      margin: 0
      min-height: 260px
      .picture
        position: relative
        width: 100%
        max-height: 90vh
        overflow: hidden
        figure.image, figure.video
          margin: 0
        img, video
          position: relative
          width: 100%
          height: auto
          min-height: 50vh
          margin: 0 auto
          background-color: $coolgrey11
        img[src=""]
          height: 90vh
            
      .content
        position: absolute
        bottom: 1.25em
        left: 0
        right: 0
        h1
          font-size: 5em
          color: white
          text-shadow: 0 0 10px rgba(0,0,0,0.6)
          line-height: 1
          text-transform: uppercase
          margin: 0
          min-width: 100px

    &.contents
      &.previews
        .built
          .child-page
            clear: both
            margin-bottom: 2em
            .picture
              position: relative
              display: inline-block
              width: 23.2%
              min-height: 160px
              margin-right: 2%
              vertical-align: top
              img
                width: 100%
                height: auto
                background-color: $mid
            .summary
              h2
                margin-top: 0
                margin-bottom: 0.1em
              position: relative
              display: inline-block
              width: 73%
              min-height: 160px
              margin: 0
              vertical-align: top
      &.previews:first-child
        .built
          .child-page
            &:first-child
              .picture
                width: 73%
              .summary
                width: 23.2%
      &.blocks
        .built
          .child-page
            position: relative
            width: 23%
            min-height: 160px
            margin-right: 1.7%
            margin-bottom: 3em
            display: inline-block
            vertical-align: top
            overflow: hidden
            .picture
              img
                width: 100%
                height: auto
            .summary
              width: auto
              height: 140px
              h2, p
                font-size: 1rem
                margin: 0
                line-height: 1.3
      &.list
        .built
          .child-page
            position: relative
            width: auto
            height: auto
            margin-bottom: 1em
            .picture
              display: none
            .summary
              width: auto
              h2, p
                margin: 0 0 0.25em 0
              p
                display: none
              h2
                a:before
                  content: "◼ "

    &.carousel
      .content
        position: absolute
        bottom: 0
        left: 0
        right: 0
        text-shadow: 0 0 10px rgba(0,0,0,0.4)
        h2
          margin: 0
          padding: 12px 20px
          font-size: 3.4rem
          line-height: 1
          p
            display: inline
      .built
        position: relative
        width: 960px
        height: 540px
        overflow: hidden
        background-color: $green
        .carousel
          .image
            width: 960px
            height: 540px
            display: inline-block
            float: left
            margin: 0
            background:
              repeat: no-repeat
              position: center center
              size: cover
      .captions
        margin-top: 20px
        p
          width: 293px
          margin: 20px
          display: inline-block
          float: left
          opacity: 0.75
          transition: opacity 0.3s ease
          a
            color: darken($yellow, 10)
          &:last-child
            margin-right: 0
          &:first-child
            margin-left: 0
          &.current
            opacity: 1.0


@media (max-aspect-ratio:1/1)
  main
    section.hero
      img, video
        width: 140%
        margin-left: -20%

@media (max-aspect-ratio:2/3)
  main
    section.hero
      img, video
        width: 180%
        margin-left: -40%

@media (min-height: 720px) and (min-width: 1100px)
  main
    section.hero
      .content
        h1
          font-size: 6em

@media (max-width: 768px)
  main
    section
      margin: 3vh 0
    section.hero
      .content
        h1
          font-size: 5em
    section.standard 
      .left
        p
          font-size: 1.2rem
      .right
        p.quote
          font-size: 1rem
    section.blocky 
      .content 
        .block
          a
            span.caption 
              bottom: 4%
              right: 10%
              font-size: 1.1rem
    section.bigquote
      p
        font-size: 1.4rem

@media (max-width: 1024px)
  main
    section.standard 
      .left
        p
          font-size: 1.4rem

@media (max-width: 568px)
  main
    section
      margin: 3vh 0
    section.hero
      margin-bottom: 1.5em
      .content
        h1
          font-size: 2.1em
          text-align: center
    section.standard 
      .right
        width: 45%
      .left
        width: auto
    section.blocky 
      margin: 1em 0
      .content
        .block
          width: 48%
          margin-right: 4%
          margin-bottom: 4%
          &.second, &.fourth
            margin-right: 0
    section.bigquote 
      margin: 3em 0 5em 0
      .content
        p
          margin: 0 10%
          width: auto
          font-size: 120%


@media (max-width:400px)
  main
    section.hero
      .content
        h1
          text-align: left
    section.standard 
      margin: 1em 0
      .left
        width: auto
        float: none
        clear: both
      .right
        display: none
    section.blocky 
      margin: 1em 0
      .content
        .block
          a
            span.caption
              font-size: 1rem
    section.twocol 
      margin: 1em 0
      .col
        width: auto
        float: none
        clear: both
    section.bigquote 
      margin: 1em 0
      .content
        p
          margin: 0
