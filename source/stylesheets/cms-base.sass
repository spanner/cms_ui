@import lib/definitions

[contenteditable]
  outline: none
  &:hover
    background:
      color: $editable_bg
  &:focus
    background:
      color: transparent

a.cms-menu
  display: inline-block
  vertical-align: top
  width: 20px
  height: 20px
  text-indent: 20px
  overflow: hidden
  background:
    position: 0 -384px
    repeat: no-repeat
    image: image-url('linksprite.png')
  &:hover
    background-position: 0 -416px

main
  section
    position: relative
    border-top: 1px solid white
    margin-top: 1em
    padding-top: 1em
    .cms-section-menu
      position: absolute
      top: -20px
      right: -80px
      width: 85px
      a.cms-menu
        position: relative
        background-color: white
      div.cms-menu
        position: relative
        overflow: hidden
        margin-top: -1px
        background-color: white
        +box-shadow(0 2px 5px rgba(0,0,0,0.4))
        width: 85px
        height: 0
        transition: height 0.5s ease
        &.open
          height: 200px
        a.section_type
          margin: 4px
        input[type="checkbox"]
          margin-right: 4px
        label
          display: block
          color: $pale
          padding: 8px 6px 0 6px

body.previewing
  #main #editor main section
    border-top: none
    margin-top: 0
    padding-top: 0

  .admin, .title_toggle
    display: none

p
  span.quote
    display: block
    color: $pale
    &:before
      content: '“'
      font-size: 180%
      position: absolute
      width: 12px
      text-align: right
      margin-left: -0.5em
      margin-top: 0
    &:after
      content: '”'
      font-size: 180%
      position: absolute
      margin-left: 8px
      margin-top: 0
  span.speaker
    display: block
    color: white

main
  section
    position: relative
    +clearfix
    .wrapper
      +central
      margin: 0 auto
      .section_title
        display: none
        h2.section
          font-size: 2em
          margin-right: 100px
        &.showing
          display: block
      &.default
        .section_image, .section_note, .section_aside
          display: none
        .section_body
          min-height: 100px
          max-width: 800px
      &.twocol
        .col
          display: inline-block
          vertical-align: top
          float: left
          min-height: 100px
          width: 460px
          &.second
            float: right
      &.asided
        .section_image, .section_note
          display: none
        .section_aside
          float: right
          width: 293px
          min-height: 50px
          margin: 0 0 16px 60px
          color: $pale
          p:first-child
            margin-top: 0
          img:first-child
            margin-top: 0.4em
        .section_body
          min-height: 100px
          max-width: 800px
          border-top: 1px solid transparent
          p:first-child
            margin-top: 0
          img:first-child
            margin-top: 0.4em
      &.bigtext
        .section_body
          display: block
          font-size: 1.6rem
          line-height: 1.6
      &.bigquote
        p
          display: block
          width: 80%
          font-size: 1.75rem
          line-height: 1.25
          margin: 1.25em auto
      &.grid
        p
          width: 300px
          margin: 20px
          display: inline-block
          float: left
      &.hero
        position: relative
        top: 0
        width: 90vw
        max-width: 1340px
        height: 80vh
        background-color: $coolgrey11
        .frame
          position: relative
          overflow: hidden
          background-color: $green
          .section_title
            position: absolute
            bottom: 0
            left: 0
            right: 0
            text-shadow: 0 0 10px rgba(0,0,0,0.4)
            h2
              margin: 0
              padding: 12px 20px
              font-size: 3.4rem
              line-height: 1
              p
                display: inline
        .section_image
          display: block
          width: 950px
          border: 5px solid white
          height: auto
          min-height: 480px
          background-color: $green
      &.carousel
        .frame
          position: relative
          width: 960px
          height: 540px
          overflow: hidden
          background-color: $green
          .section_title
            position: absolute
            bottom: 0
            left: 0
            right: 0
            text-shadow: 0 0 10px rgba(0,0,0,0.4)
            h2
              margin: 0
              padding: 12px 20px
              font-size: 3.4rem
              line-height: 1
              p
                display: inline
          .carousel
            .image
              width: 960px
              height: 540px
              display: inline-block
              float: left
              margin: 0
              background:
                repeat: no-repeat
                position: center center
                size: cover
        .captions
          margin-top: 20px
          p
            width: 293px
            margin: 20px
            display: inline-block
            float: left
            opacity: 0.75
            transition: opacity 0.3s ease
            a
              color: darken($yellow, 10)
            &:last-child
              margin-right: 0
            &:first-child
              margin-left: 0
            &.current
              opacity: 1.0
    &:first-child
      .wrapper
        &.bigtext
          margin-top: 0
